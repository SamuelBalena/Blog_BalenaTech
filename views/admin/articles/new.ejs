<%- include('../../../views/partials/header') -%>
<%- include('../../../views/partials/navbar') -%>
<div class="container">
    <div class="card-box">
        <h1>Novo Artigo</h1>
        <form method="post" action="/articles/save">
            <label>Categoria</label>
            <select name="category" class="form-control">
                <% categories.forEach((category) => { %>
                    <option value="<%= category.id %>"><%= category.title %> </option>
                <% }) %>
            </select>
            <input class="form-control" type="text" name="title" placeholder="Defina o título do artigo" required>
            <br>
            <textarea class="form-control" placeholder="Escreva o artigo aqui!" name="body" id="article"></textarea>
            <button class="btn btn-success">Cadastrar</button>
        </form>
    </div>
</div>

<style>
    h1 {
        margin-top: 20px;
        margin-bottom: 20px;
    }

    h1::after{
        content: '';
        display: block;
        width: 80px;
        height: 3px;
        background: #212529;
        margin: auto 0px;
        margin-top: 15px;
    }

    label {
        font-weight: 500;
        font-size: 18px;
    }

    select {
        margin-bottom: 20px;
    }

    button {
        margin-top: 20px;
    }

    .card-box {
        display: flex;
        flex-direction: column;
        width: auto;
        height: auto;
        padding: 40px;
        border-radius: 10px;
        margin-top: 30px;
        box-shadow: 0 0 1em rgba(0, 0, 0, 0.2);
    }
</style>
<%- include('../../../views/partials/footer') -%>

<script src="/tinymce/tinymce.min.js"></script>
<script>
    // Leia a documentação do Tiny
    tinymce.init({ // Utilizando a lib para escrever artigos
        language: "pt_BR",
        selector: "#article",
        plugins: [
            "advlist autolink link image lists print preview hr searchreplace wordcount fullscreen insertdatetime media save table paste emoticons"
        ]
    })
</script>